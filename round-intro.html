<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>Val Cenis — Next Round</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="header">
    <div class="brand">Val Cenis Road Trip</div>
    <div id="team-badge-wrap" class="hidden">
      <span id="team-badge" class="team-badge">
        <img id="mascot-img" class="team-badge-img" src="" alt="">
        <span id="team-name-badge"></span>
      </span>
    </div>
  </div>

  <div class="card" style="margin-top:16px;">
    <div class="ribbon" id="round-ribbon">Round 2</div>

    <div class="card-inner text-center">
      <div class="snowflakes mb-8">❄ ❄ ❄</div>

      <div class="round-intro-number" id="round-label">Round 2</div>
      <div class="round-intro-title" id="round-title">Reversed Tracks</div>
      <p class="round-intro-desc" id="round-desc">These tracks are playing backwards!</p>
      <div class="round-intro-count" id="round-count">5 tracks</div>

      <img class="logo-img mt-12 mb-8" src="images/card-back.png" alt="Val Cenis">

      <a id="btn-go" class="btn btn-accent mt-8" href="#">Let's Go!</a>

      <div class="snowflakes mt-12">❄ ❄ ❄</div>
    </div>
  </div>

  <script src="js/data.js"></script>
  <script src="js/app.js"></script>
  <script>
    App.applyTeamTheme();
    const params = new URLSearchParams(window.location.search);
    const roundIdx = parseInt(params.get('r'), 10) || 0;
    const round = QUIZ_DATA.rounds[roundIdx];

    if (!round) { window.location.href = 'holding.html'; }

    document.getElementById('round-ribbon').textContent = 'Round ' + (roundIdx + 1);
    document.getElementById('round-label').textContent = 'Round ' + (roundIdx + 1);
    document.getElementById('round-title').textContent = round.title;
    document.getElementById('round-desc').textContent = round.description;
    document.getElementById('round-count').textContent = round.tracks.length + ' tracks';
    document.getElementById('btn-go').href = App.getTrackLocation(roundIdx, 0);

    const team = App.getTeamInfo();
    if (team) {
      document.getElementById('team-badge-wrap').classList.remove('hidden');
      document.getElementById('mascot-img').src = team.mascotImg;
      document.getElementById('team-name-badge').textContent = team.name;
    }
  </script>
</body>
</html>
